<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="true">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Controle Cart√£o">
    <meta name="theme-color" content="#1e40af">
    <meta name="description" content="Controle de cart√£o de cr√©dito Anau√™">
    
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect fill='%231e40af' width='192' height='192'/><text x='50%' y='50%' font-size='100' font-weight='bold' fill='white' text-anchor='middle' dy='.3em'>üí≥</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'><rect fill='%231e40af' width='180' height='180' rx='40'/><text x='50%' y='50%' font-size='90' font-weight='bold' fill='white' text-anchor='middle' dy='.3em'>üí≥</text></svg>">
    
    <link rel="stylesheet" href="styles.css">
    <title>Controle Cart√£o Anau√™</title>
</head>
<body>
    <div id="app" class="app-container">
        <!-- DASHBOARD -->
        <section id="dashboard" class="screen active">
            <div class="screen-header">
                <h1>Dashboard</h1>
            </div>
            <div class="screen-content">
                <!-- Cards de Resumo -->
                <div class="summary-cards">
                    <div class="summary-card">
                        <div class="summary-label">Total M√™s</div>
                        <div class="summary-value" id="totalMonth">R$ 0,00</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-label">Total Cart√£o</div>
                        <div class="summary-value" id="totalCard">R$ 0,00</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-label">Total Pessoa</div>
                        <div class="summary-value" id="totalPerson">R$ 0,00</div>
                    </div>
                </div>

                <!-- Totais por M√™s -->
                <div class="section">
                    <h2>Totais por M√™s</h2>
                    <div id="monthTotals" class="totals-list"></div>
                </div>

                <!-- Totais por Cart√£o -->
                <div class="section">
                    <h2>Totais por Cart√£o</h2>
                    <div id="cardTotals" class="totals-list"></div>
                </div>

                <!-- Totais por Pessoa -->
                <div class="section">
                    <h2>Totais por Pessoa</h2>
                    <div id="personTotals" class="totals-list"></div>
                </div>

                <!-- Gr√°fico de Gastos -->
                <div class="section">
                    <h2>Gastos (√öltimos 6 Meses)</h2>
                    <canvas id="spendChart" class="chart-canvas"></canvas>
                </div>
            </div>
        </section>

        <!-- LAN√áAR COMPRA -->
        <section id="purchase" class="screen">
            <div class="screen-header">
                <h1>Lan√ßar Compra</h1>
            </div>
            <div class="screen-content">
                <form id="purchaseForm" class="form">
                    <div class="form-group">
                        <label for="purchaseCard">Cart√£o *</label>
                        <select id="purchaseCard" required>
                            <option value="">Selecione um cart√£o</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="purchaseDate">Data da Compra *</label>
                        <input type="date" id="purchaseDate" required>
                    </div>
                    <div class="form-group">
                        <label for="purchaseDescription">Descri√ß√£o *</label>
                        <input type="text" id="purchaseDescription" placeholder="Ex: Supermercado" required>
                    </div>
                    <div class="form-group">
                        <label for="purchaseClassification">Classifica√ß√£o *</label>
                        <select id="purchaseClassification" required>
                            <option value="">Selecione uma classifica√ß√£o</option>
                            <option value="Alimenta√ß√£o">Alimenta√ß√£o</option>
                            <option value="Combust√≠vel">Combust√≠vel</option>
                            <option value="Sa√∫de">Sa√∫de</option>
                            <option value="Lazer">Lazer</option>
                            <option value="Casa">Casa</option>
                            <option value="Educa√ß√£o">Educa√ß√£o</option>
                            <option value="Transporte">Transporte</option>
                            <option value="Outros">Outros</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="purchaseAmount">Valor Total (R$) *</label>
                        <input type="number" id="purchaseAmount" placeholder="0.00" min="0" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="purchaseInstallments">N√∫mero de Parcelas *</label>
                        <input type="number" id="purchaseInstallments" min="1" max="24" value="1" required>
                    </div>
                    <div class="form-group">
                        <label for="purchasePerson">Respons√°vel *</label>
                        <input type="text" id="purchasePerson" placeholder="Ex: Jo√£o" required>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Lan√ßar Compra</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- CONSULTA -->
        <section id="query" class="screen">
            <div class="screen-header">
                <h1>Consulta</h1>
            </div>
            <div class="screen-content">
                <!-- Filtros -->
                <div class="filter-section">
                    <h2>Filtros</h2>
                    <div class="filter-group">
                        <div class="filter-item">
                            <label for="filterYear">Ano</label>
                            <select id="filterYear">
                                <option value="">Todos</option>
                            </select>
                        </div>
                        <div class="filter-item">
                            <label for="filterMonth">M√™s</label>
                            <select id="filterMonth">
                                <option value="">Todos</option>
                                <option value="1">Janeiro</option>
                                <option value="2">Fevereiro</option>
                                <option value="3">Mar√ßo</option>
                                <option value="4">Abril</option>
                                <option value="5">Maio</option>
                                <option value="6">Junho</option>
                                <option value="7">Julho</option>
                                <option value="8">Agosto</option>
                                <option value="9">Setembro</option>
                                <option value="10">Outubro</option>
                                <option value="11">Novembro</option>
                                <option value="12">Dezembro</option>
                            </select>
                        </div>
                    </div>
                    <div class="filter-group">
                        <div class="filter-item">
                            <label for="filterCard">Cart√£o</label>
                            <select id="filterCard">
                                <option value="">Todos</option>
                            </select>
                        </div>
                        <div class="filter-item">
                            <label for="filterClassification">Classifica√ß√£o</label>
                            <select id="filterClassification">
                                <option value="">Todas</option>
                                <option value="Alimenta√ß√£o">Alimenta√ß√£o</option>
                                <option value="Combust√≠vel">Combust√≠vel</option>
                                <option value="Sa√∫de">Sa√∫de</option>
                                <option value="Lazer">Lazer</option>
                                <option value="Casa">Casa</option>
                                <option value="Educa√ß√£o">Educa√ß√£o</option>
                                <option value="Transporte">Transporte</option>
                                <option value="Outros">Outros</option>
                            </select>
                        </div>
                    </div>
                    <div class="filter-group">
                        <div class="filter-item">
                            <label for="filterPerson">Respons√°vel</label>
                            <select id="filterPerson">
                                <option value="">Todos</option>
                            </select>
                        </div>
                    </div>
                    <button class="btn btn-secondary" id="clearFiltersBtn">Limpar Filtros</button>
                </div>

                <!-- Total Filtrado -->
                <div class="filter-total">
                    <span>Total Filtrado:</span>
                    <span id="filteredTotal" class="total-value">R$ 0,00</span>
                </div>

                <!-- Lista de Registros -->
                <div class="records-section">
                    <div id="recordsList" class="records-list"></div>
                </div>
            </div>

            <!-- Modal Editar Registro -->
            <div id="editModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Editar Registro</h2>
                        <button class="btn-close" id="closeEditModal">&times;</button>
                    </div>
                    <form id="editForm" class="form">
                        <input type="hidden" id="editRecordId">
                        <div class="form-group">
                            <label for="editDate">Data da Compra *</label>
                            <input type="date" id="editDate" required>
                        </div>
                        <div class="form-group">
                            <label for="editDescription">Descri√ß√£o *</label>
                            <input type="text" id="editDescription" required>
                        </div>
                        <div class="form-group">
                            <label for="editClassification">Classifica√ß√£o *</label>
                            <select id="editClassification" required>
                                <option value="Alimenta√ß√£o">Alimenta√ß√£o</option>
                                <option value="Combust√≠vel">Combust√≠vel</option>
                                <option value="Sa√∫de">Sa√∫de</option>
                                <option value="Lazer">Lazer</option>
                                <option value="Casa">Casa</option>
                                <option value="Educa√ß√£o">Educa√ß√£o</option>
                                <option value="Transporte">Transporte</option>
                                <option value="Outros">Outros</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editAmount">Valor Parcela (R$) *</label>
                            <input type="number" id="editAmount" placeholder="0.00" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="editPerson">Respons√°vel *</label>
                            <input type="text" id="editPerson" required>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Salvar</button>
                            <button type="button" class="btn btn-danger" id="deleteRecordBtn">Deletar</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- CART√ïES -->
        <section id="cards" class="screen">
            <div class="screen-header">
                <h1>Cart√µes</h1>
                <button class="btn-icon" id="addCardBtn" title="Adicionar cart√£o">
                    <span>‚ûï</span>
                </button>
            </div>
            <div class="screen-content">
                <div id="cardsList" class="cards-list"></div>
            </div>

            <!-- Modal Adicionar/Editar Cart√£o -->
            <div id="cardModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2 id="cardModalTitle">Novo Cart√£o</h2>
                        <button class="btn-close" id="closeCardModal">&times;</button>
                    </div>
                    <form id="cardForm" class="form">
                        <input type="hidden" id="cardId">
                        <div class="form-group">
                            <label for="cardName">Nome do Cart√£o *</label>
                            <input type="text" id="cardName" placeholder="Ex: Nubank" required>
                        </div>
                        <div class="form-group">
                            <label for="cardDueDay">Dia de Vencimento *</label>
                            <input type="number" id="cardDueDay" min="1" max="31" required>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Salvar</button>
                            <button type="button" class="btn btn-danger" id="deleteCardBtn" style="display:none;">Deletar</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- TAB BAR -->
        <nav class="tab-bar">
            <button class="tab-item active" data-tab="dashboard" title="Dashboard">
                <span class="tab-icon">üìä</span>
                <span class="tab-label">Dashboard</span>
            </button>
            <button class="tab-item" data-tab="purchase" title="Lan√ßar Compra">
                <span class="tab-icon">‚ûï</span>
                <span class="tab-label">Compra</span>
            </button>
            <button class="tab-item" data-tab="query" title="Consulta">
                <span class="tab-icon">üîç</span>
                <span class="tab-label">Consulta</span>
            </button>
            <button class="tab-item" data-tab="cards" title="Cart√µes">
                <span class="tab-icon">üí≥</span>
                <span class="tab-label">Cart√µes</span>
            </button>
        </nav>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script src="app.js"></script>
</body>
</html>
